DROP TABLE Uzivatel CASCADE CONSTRAINTS;
DROP TABLE Automobil CASCADE CONSTRAINTS;
DROP TABLE Spolujizda;

--TODO datove typy

CREATE TABLE Uzivatel (
    id_uzivatel int,
    --Email varchar(255),
    --Telefon varchar(255),
    --Popis varchar(255),
    --CestaKSouboruFotografie varchar(255),
    --Hudba number(1,0),
    --Kouření number(1,0), 
    --Zvířata number(1,0), 
    --Komunikace varchar(255),
    --Zkušenost int
    PRIMARY KEY (id_uzivatel)
);

CREATE TABLE Automobil (
    registracni_znacka varchar(255),
    id_uzivatel int CONSTRAINT automobil_id_uzivatel_nn  NOT NULL,
    --Znacka varchar (255),
    --Model varchar (255),
    --Kapacita int
    CONSTRAINT PK_automobil PRIMARY KEY (registracni_znacka),
    CONSTRAINT FK_automobil_id_uzivatel FOREIGN KEY (id_uzivatel)
        REFERENCES Uzivatel
        ON DELETE CASCADE
);

CREATE TABLE Spolujizda (
    id_spolujizda int,
    registracni_znacka varchar(255) CONSTRAINT spolujizda_registracni_znacka_nn NOT NULL,
    --CasVyjezdu varchar(255),
    --NastupniMisto varchar(255),
    --VystupniMisto varchar(255),
    --Cena int,
    --Zajizdka varchar(255),
    --CasovaFlexibilita varchar(255),
    --Zavazadla number(1,0)
    CONSTRAINT PK_spolujizda PRIMARY KEY (id_spolujizda),
    CONSTRAINT FK_spolujizda_registracni_znacka FOREIGN KEY (registracni_znacka)
        REFERENCES Automobil
        ON DELETE CASCADE
);